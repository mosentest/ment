<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
<h:head>
    <base href="#{request.contextPath}/"/>
    <title>Enterprise Console</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="icon" type="image/x-icon" href="#{resource['img/favicon.ico']}"/>
    <h:outputStylesheet name="css/bootstrap.css" media="all"/>
    <h:outputStylesheet name="css/common.css" media="all"/>
    <h:outputScript name="js/jquery-2.0.3.js"/>
    <h:outputScript name="js/comm.js"/>
    <h:outputScript name="js/bootstrap.js"/>
    <script type="text/javascript">
        $(document).ready(function () {
            var url = "ws://localhost:80/comm";
            var ws = new WebSocket(url);
            ws.onopen = function () {
                console.log("connected");
                ws.send("hahahaha");
            };
            ws.onmessage = function (event) {
                console.log("message: " + event.data);
            };
            ws.onclose = function () {
                console.log("closed");
            }
            $('#send').click(function () {
                ws.send('hahahahaha');
                console.log('message sent');
            });
            var comm = new Comm("ws:localhost:80/comm");
        });
    </script>
</h:head>
<h:body>
    <h:panelGroup styleClass="navbar navbar-static-top header" layout="block" id="top" a:role="banner"
                  style="background-color:#ffffff;">
        <h:panelGroup styleClass="container" layout="block" rendered="#{not current.authenticated}">
            <h:panelGroup styleClass="navbar-header" layout="block">
                <h:outputLink value="index.xhtml" styleClass="navbar-brand">
                    <h:outputText value="Enterprise Communication"/>
                </h:outputLink>
            </h:panelGroup>
        </h:panelGroup>
    </h:panelGroup>
    <h:panelGroup id="content" layout="block">
    </h:panelGroup>
</h:body>

<h:panelGroup styleClass="footer" a:role="contentinfo" layout="block">
    <h:panelGroup styleClass="copyright" layout="block">
        <p>
            <h:outputText value="Designed and built by Hemu Inc."/>
            <h:outputLink value="http://www.google.com" target="_blank"/>
        </p>

        <p>
            <h:outputText value="Code licensed under "/>
            <h:outputLink value="https://github.com/twbs/bootstrap/blob/master/LICENSE" target="_blank">
                <h:outputText value="MIT"/>
            </h:outputLink>
            <h:outputText value=", documentation under "/>
            <h:outputLink value="http://creativecommons.org/licenses/by/3.0/" target="_blank">
                <h:outputText value="CC BY 3.0"/>
            </h:outputLink>
        </p>
    </h:panelGroup>
</h:panelGroup>
</html>
